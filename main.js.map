{"version":3,"sources":["./apps/coretainium-optics/$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./apps/coretainium-optics/src/app/app.component.ts","./apps/coretainium-optics/src/app/app.component.html","./apps/coretainium-optics/src/app/app.module.ts","./apps/coretainium-optics/src/app/components/cameradistance-panel/cameradistance-panel.component.ts","./apps/coretainium-optics/src/app/components/cameradistance-panel/cameradistance-panel.component.html","./apps/coretainium-optics/src/app/components/focallength-panel/focallength-panel.component.ts","./apps/coretainium-optics/src/app/components/focallength-panel/focallength-panel.component.html","./apps/coretainium-optics/src/app/components/lens-preset-table/lens-preset-table.component.ts","./apps/coretainium-optics/src/app/components/lens-preset-table/lens-preset-table.component.html","./apps/coretainium-optics/src/app/components/panel.module.ts","./apps/coretainium-optics/src/app/components/sensorsize-panel/sensorsize-panel.component.ts","./apps/coretainium-optics/src/app/components/sensorsize-panel/sensorsize-panel.component.html","./apps/coretainium-optics/src/app/core/components/panel/panel-resize.service.ts","./apps/coretainium-optics/src/app/core/components/panel/panel.component.ts","./apps/coretainium-optics/src/app/core/components/panel/panel.component.html","./apps/coretainium-optics/src/app/core/components/pinned-button/pinned-button.component.ts","./apps/coretainium-optics/src/app/core/components/pinned-button/pinned-button.component.html","./apps/coretainium-optics/src/app/core/core.module.ts","./apps/coretainium-optics/src/app/core/pipes/aperture-abbreviation/aperture-abbreviation.pipe.ts","./apps/coretainium-optics/src/app/core/pipes/empty-string/empty-string.pipe.ts","./apps/coretainium-optics/src/app/core/pipes/rad-to-deg.pipe.ts","./apps/coretainium-optics/src/app/core/pipes/unit-suffix/unit-suffix.pipe.ts","./apps/coretainium-optics/src/app/core/widgets/choice-widget/choice-widget.component.ts","./apps/coretainium-optics/src/app/core/widgets/choice-widget/choice-widget.component.html","./apps/coretainium-optics/src/app/core/widgets/collapsable-widget/collapsable-widget.component.html","./apps/coretainium-optics/src/app/core/widgets/collapsable-widget/collapsable-widget.component.ts","./apps/coretainium-optics/src/app/core/widgets/label-widget/label-widget.component.ts","./apps/coretainium-optics/src/app/core/widgets/label-widget/label-widget.component.html","./apps/coretainium-optics/src/app/core/widgets/number-widget/number-widget.component.ts","./apps/coretainium-optics/src/app/core/widgets/number-widget/number-widget.component.html","./apps/coretainium-optics/src/app/core/widgets/range-widget/range-widget.component.ts","./apps/coretainium-optics/src/app/core/widgets/range-widget/range-widget.component.html","./apps/coretainium-optics/src/app/core/widgets/section-widget/section-widget.component.html","./apps/coretainium-optics/src/app/core/widgets/section-widget/section-widget.component.ts","./apps/coretainium-optics/src/app/features/engine/camera-engine.service.ts","./apps/coretainium-optics/src/app/features/engine/camera-engine.widget.ts","./apps/coretainium-optics/src/app/features/engine/engine.component.ts","./apps/coretainium-optics/src/app/features/engine/engine.component.html","./apps/coretainium-optics/src/app/features/engine/engine.module.ts","./apps/coretainium-optics/src/app/features/engine/engine.service.ts","./apps/coretainium-optics/src/app/features/engine/renderer/CSS3DRenderer.ts","./apps/coretainium-optics/src/app/features/engine/store/controller.store.ts","./apps/coretainium-optics/src/app/features/engine/store/engine.store.ts","./apps/coretainium-optics/src/app/services/camera-preset.service.ts","./apps/coretainium-optics/src/environments/environment.ts","./apps/coretainium-optics/src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 4221;\nmodule.exports = webpackEmptyAsyncContext;","import { AfterViewInit } from '@angular/core';\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { PanelResizeService } from './core/components/panel/panel-resize.service';\nimport { IRangeWidget } from './core/widgets';\nimport { round } from './features/engine/camera-engine.widget';\nimport { EngineStateStore } from './features/engine/store/engine.store';\n\n@Component({\n  selector: 'poc-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [PanelResizeService]\n})\nexport class AppComponent implements AfterViewInit {\n  title = 'coretainium-optics';\n\n  cameraHeightWidget!: IRangeWidget;\n\n  displayCameraOverview = false;\n\n  constructor(\n    private panelResizeService: PanelResizeService,\n    public store$: EngineStateStore\n  ) {\n\n    this.panelResizeService.onResize$.subscribe(() => {\n      console.log('resize');\n    });\n\n    this.cameraHeightWidget = {\n      min: 200,\n      max: 1300,\n      step: 1,\n      value$: this.store$.viewDistance$,\n      label: 'Camera Height',\n      readonly: false,\n      setValue: (newPosition: number) => this.store$.setViewDistance(round(newPosition, 1)),\n      type: 'range'\n    }\n  }\n\n  resizeEnd(ev: Event) {\n    console.log(ev);\n    this.panelResizeService.onResize.next();\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.panelResizeService.onResize.next();\n    }, 150);\n  }\n}\n","<p-splitter stateKey=\"sidebar\" stateStorage=\"local\" (onResizeEnd)=\"resizeEnd($event)\" [panelSizes]=\"[75,25]\" [minSizes]=\"[50,10]\" >\n  <ng-template pTemplate>\n    <p-splitter stateKey=\"bottombar\" stateStorage=\"local\" (onResizeEnd)=\"resizeEnd($event)\" [panelSizes]=\"[75,25]\" layout=\"vertical\">\n      <ng-template pTemplate>\n        <poc-panel [collapsed]=\"false\" label=\"Coretainium\">\n          <poc-engine [displayCameraView]=\"displayCameraOverview\"></poc-engine>\n        </poc-panel>\n      </ng-template>\n      <ng-template pTemplate>\n        <poc-panel [collapsed]=\"false\" label=\"Presets\">\n          <poc-lens-preset-table></poc-lens-preset-table>\n        </poc-panel>\n      </ng-template>\n    </p-splitter>\n  </ng-template>\n  <ng-template pTemplate>\n      <section class=\"sidebar\">\n        <poc-panel [collapsed]=\"false\" label=\"Sensor Size\">\n          <poc-sensorsize-panel></poc-sensorsize-panel>\n        </poc-panel>\n        <poc-panel [collapsed]=\"false\" label=\"Focal Length\">\n          <poc-focallength-panel></poc-focallength-panel>\n        </poc-panel>\n        <poc-panel [collapsed]=\"false\" label=\"Camera View\">\n          <poc-cameradistance-panel></poc-cameradistance-panel>\n        </poc-panel>\n      </section>\n  </ng-template>\n</p-splitter>\n\n\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { AppComponent } from './app.component';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { EngineModule } from './features/engine/engine.module';\nimport { CoreModule } from './core/core.module';\nimport { EngineStateStore } from './features/engine/store/engine.store';\nimport { SplitterModule } from 'primeng/splitter';\nimport { PanelModule } from './components/panel.module';\nimport { PresetsStore } from './services/camera-preset.service';\nimport { ConfirmationService } from 'primeng/api';\n\n\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    RouterModule.forRoot([], { initialNavigation: 'enabledBlocking' }),\n    CommonModule,\n    HttpClientModule,\n    FormsModule,\n    EngineModule,\n    CoreModule,\n    SplitterModule,\n    PanelModule\n  ],\n  providers: [EngineStateStore, PresetsStore, ConfirmationService],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { EngineStateStore } from '../../features/engine/store/engine.store';\n\n@Component({\n  selector: 'poc-cameradistance-panel',\n  templateUrl: './cameradistance-panel.component.html',\n  styleUrls: ['./cameradistance-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CameradistancePanelComponent {\n  constructor(\n    public store$: EngineStateStore) { }\n}\n","\n<div class=\"panel-field\">\n  <div class=\"panel-field-label\">\n    <label for=\"cameraDistance\">Distance</label>\n  </div>\n  <div class=\"panel-field-value\">\n    <p-inputNumber #cameraDistance name=\"focalLength\" [ngModel]=\"this.store$.viewDistance$ | async\" [useGrouping]=\"false\" [showButtons]=\"true\"\n      buttonLayout=\"horizontal\" inputId=\"horizontal\" spinnerMode=\"horizontal\" [step]=\"1\"\n      decrementButtonClass=\"p-button-text\" incrementButtonClass=\"p-button-text\" incrementButtonIcon=\"pi pi-plus\"\n      decrementButtonIcon=\"pi pi-minus\" mode=\"decimal\" [suffix]=\"' mm'\" [minFractionDigits]=\"0\" [maxFractionDigits]=\"0\"\n      (onInput)=\"this.store$.setViewDistance($event.value)\">\n    </p-inputNumber>\n  </div>\n</div>\n\n<div class=\"panel-field\">\n  <div class=\"panel-field-label\">\n    <label for=\"cameraDistance\">Width</label>\n  </div>\n  <div class=\"panel-field-value\">\n    <div class=\"readonly-value\">\n      {{ (store$.viewWidth$ | async) | unitSuffix }}\n    </div>\n  </div>\n</div>\n\n<div class=\"panel-field\">\n  <div class=\"panel-field-label\">\n    <label for=\"cameraDistance\">Height</label>\n  </div>\n  <div class=\"panel-field-value\">\n    <div class=\"readonly-value\">\n      {{ (store$.viewHeight$ | async) | unitSuffix }}\n    </div>\n  </div>\n</div>\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { EngineStateStore } from '../../features/engine/store/engine.store';\n\n@Component({\n  selector: 'poc-focallength-panel',\n  templateUrl: './focallength-panel.component.html',\n  styleUrls: ['./focallength-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class FocallengthPanelComponent {\n  constructor(\n    public store$: EngineStateStore) { }\n}\n","\n<div class=\"panel-field\">\n  <div class=\"panel-field-label\">\n    <label for=\"focalLength\">Focal Length</label>\n  </div>\n  <div class=\"panel-field-value\">\n    <p-inputNumber #focalLength name=\"focalLength\" [ngModel]=\"this.store$.focalLength$ | async\" [useGrouping]=\"false\" [showButtons]=\"true\"\n      buttonLayout=\"horizontal\" inputId=\"horizontal\" spinnerMode=\"horizontal\" [step]=\".01\"\n      decrementButtonClass=\"p-button-text\" incrementButtonClass=\"p-button-text\" incrementButtonIcon=\"pi pi-plus\"\n      decrementButtonIcon=\"pi pi-minus\" mode=\"decimal\" [suffix]=\"' mm'\" [minFractionDigits]=\"2\" [maxFractionDigits]=\"2\"\n      (onInput)=\"this.store$.setFocalLength($event.value)\">\n    </p-inputNumber>\n  </div>\n</div>\n","import { Component, ViewChild } from '@angular/core';\nimport { take } from 'rxjs/operators';\nimport { EngineStateStore } from '../../features/engine/store/engine.store';\nimport { CameraPresetService, IFocalLengthPreset } from '../../services/camera-preset.service';\nimport { v4 as uuid } from 'uuid';\nimport { ConfirmationService } from 'primeng/api';\n\n@Component({\n  selector: 'poc-lens-preset-table',\n  templateUrl: './lens-preset-table.component.html',\n  styleUrls: ['./lens-preset-table.component.scss']\n})\nexport class LensPresetTableComponent {\n\n  @ViewChild('main')\n  mainRef!: HTMLElement;\n\n  presets$ = this.presetService.presets$;\n\n  cols = [\n    { field: 'sensorWidth', header: 'Sensor width' },\n    { field: 'sensorHeight', header: 'Sensor Height' },\n    { field: 'focalLength', header: 'Focal Length' },\n    { field: 'viewDistance', header: 'View Distance' },\n    { field: 'viewWidth', header: 'View Width' },\n    { field: 'viewHeight', header: 'View Height' }\n  ];\n\n  constructor(\n    private presetService: CameraPresetService,\n    private engineState: EngineStateStore,\n    private confirmationService: ConfirmationService) { }\n\n  addPreset() {\n    this.engineState.state$.pipe(take(1)).subscribe(x => {\n\n      const {\n        focalLength, sensorWidth, sensorHeight, viewWidth, viewHeight, viewDistance\n      } = x;\n\n      this.presetService.addPreset({\n        id: uuid(),\n        focalLength, sensorWidth, sensorHeight, viewWidth, viewHeight, viewDistance\n      })\n    })\n  }\n\n  removePreset(event: MouseEvent, preset: IFocalLengthPreset) {\n    this.confirmationService.confirm({\n      target: event.target ?? undefined,\n      message: 'Do you want to remove this preset?',\n      icon: 'pi pi-exclamation-triangle',\n      accept: () => {\n        this.presetService.removePreset(preset);\n      },\n      reject: () => {\n          //reject action\n      }\n    });\n  }\n\n  recallPreset(preset: IFocalLengthPreset) {\n\n    const { focalLength, viewDistance, sensorHeight, sensorWidth } = preset;\n    this.engineState.setSensorSize({ sensorWidth, sensorHeight });\n    this.engineState.setFocalLength(focalLength);\n    this.engineState.setViewDistance(viewDistance);\n  }\n}\n","<header>\n  <button type=\"button\" pButton pRipple icon=\"pi pi-plus\" (click)=\"addPreset()\" class=\"p-mr-2\" class=\"p-button-text\" pTooltip=\"Adds the current values as a preset\" tooltipPosition=\"bottom\" label=\"Add As Preset\"></button>\n  <button type=\"button\" [disabled]=\"(presets$ | async)?.length === 0\" pButton pRipple icon=\"pi pi-file-o\" (click)=\"dt.exportCSV()\" class=\"p-mr-2\" pTooltip=\"Download saved presets as a CSV file.\" class=\"p-button-text p-button-success\" tooltipPosition=\"bottom\" label=\"Export CSV\"></button>\n</header>\n<main #main>\n  <p-table #dt [value]=\"(presets$ | async) ?? []\" [columns]=\"cols\" styleClass=\"p-datatable-sm\" [scrollable]=\"true\" [scrollHeight]=\"main.clientHeight + 'px'\">\n    <ng-template pTemplate=\"header\" let-columns>\n        <tr>\n          <th *ngFor=\"let col of columns\">\n              {{ col.header }}\n          </th>\n          <th style=\"width:60px\"></th>\n          <th style=\"width:60px\"></th>\n        </tr>\n    </ng-template>\n    <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\">\n        <tr>\n          <td *ngFor=\"let col of columns\">\n            {{ rowData[col.field] }}\n          </td>\n          <td style=\"width:60px; text-align: center;\"><button type=\"button\" pButton pRipple icon=\"pi pi-replay\" (click)=\"recallPreset(rowData)\" pTooltip=\"Recall Preset\" class=\"p-button-text\" tooltipPosition=\"bottom\"></button></td>\n          <td style=\"width:60px; text-align: center;\"><button type=\"button\" pButton pRipple icon=\"pi pi-trash\" (click)=\"removePreset($event, rowData)\" pTooltip=\"Remove Preset\" class=\"p-button-text p-button-danger\" tooltipPosition=\"bottom\"></button></td>\n        </tr>\n    </ng-template>\n  </p-table>\n</main>\n<p-confirmPopup></p-confirmPopup>\n","import { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { DropdownModule } from \"primeng/dropdown\";\nimport { InputNumberModule } from \"primeng/inputnumber\";\nimport { SliderModule } from \"primeng/slider\";\nimport { TableModule } from \"primeng/table\";\nimport { ButtonModule } from \"primeng/button\";\nimport { TooltipModule } from \"primeng/tooltip\";\nimport { ScrollPanelModule } from \"primeng/scrollpanel\";\nimport { ConfirmPopupModule } from 'primeng/confirmpopup';\nimport { CoreModule } from '../core/core.module';\n\nimport { SensorsizePanelComponent } from \"./sensorsize-panel/sensorsize-panel.component\";\nimport { FocallengthPanelComponent } from \"./focallength-panel/focallength-panel.component\";\nimport { CameradistancePanelComponent } from \"./cameradistance-panel/cameradistance-panel.component\";\nimport { LensPresetTableComponent } from \"./lens-preset-table/lens-preset-table.component\";\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BrowserModule,\n    SliderModule,\n    DropdownModule,\n    InputNumberModule,\n    FormsModule,\n    CoreModule,\n    TableModule,\n    ButtonModule,\n    ScrollPanelModule,\n    TooltipModule,\n    ConfirmPopupModule\n  ],\n  declarations: [\n    SensorsizePanelComponent,\n    FocallengthPanelComponent,\n    CameradistancePanelComponent,\n    LensPresetTableComponent\n  ],\n  exports: [\n    SensorsizePanelComponent,\n    FocallengthPanelComponent,\n    CameradistancePanelComponent,\n    LensPresetTableComponent\n  ]\n})\nexport class PanelModule { }\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { EngineStateStore } from '../../features/engine/store/engine.store';\n\n@Component({\n  selector: 'poc-sensorsize-panel',\n  templateUrl: './sensorsize-panel.component.html',\n  styleUrls: ['./sensorsize-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SensorsizePanelComponent {\n\n  constructor(\n    public store$: EngineStateStore) { }\n\n}\n","<div class=\"panel-field\">\n  <div class=\"panel-field-label\">\n    <label for=\"sensorWidth\">Width</label>\n  </div>\n  <div class=\"panel-field-value\">\n    <p-inputNumber #sensorWidth name=\"sensorWidth\" [ngModel]=\"this.store$.sensorWidth$ | async\" [useGrouping]=\"false\"\n      [showButtons]=\"true\" buttonLayout=\"horizontal\" inputId=\"horizontal\" spinnerMode=\"horizontal\" [step]=\".01\"\n      decrementButtonClass=\"p-button-text\" incrementButtonClass=\"p-button-text\"\n      incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" mode=\"decimal\" [suffix]=\"' mm'\" [minFractionDigits]=\"2\" [maxFractionDigits]=\"2\"\n      (onInput)=\"this.store$.setSensorWidth($event.value)\">\n    </p-inputNumber>\n  </div>\n</div>\n<div class=\"panel-field\">\n  <div class=\"panel-field-label\">\n    <label for=\"sensorHeight\">Height</label>\n  </div>\n  <div class=\"panel-field-value\">\n    <p-inputNumber #sensorHeight name=\"sensorHeight\" [ngModel]=\"this.store$.sensorHeight$ | async\" [useGrouping]=\"false\"\n      [showButtons]=\"true\" buttonLayout=\"horizontal\" inputId=\"horizontal\" spinnerMode=\"horizontal\" [step]=\".01\"\n      decrementButtonClass=\"p-button-text\" incrementButtonClass=\"p-button-text\"\n      incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" mode=\"decimal\" [suffix]=\"' mm'\" [minFractionDigits]=\"2\" [maxFractionDigits]=\"2\"\n      (onInput)=\"this.store$.setSensorHeight($event.value)\">\n    </p-inputNumber>\n  </div>\n</div>\n\n<div class=\"panel-field\">\n  <div class=\"panel-field-label\">\n    <label for=\"cameraDistance\">Diagonal</label>\n  </div>\n  <div class=\"panel-field-value\">\n    <div class=\"readonly-value\">\n      {{ (store$.sensorDiagonal$ | async) | unitSuffix:2 }}\n    </div>\n  </div>\n</div>\n\n<div class=\"panel-field\">\n  <div class=\"panel-field-label\">\n    <label for=\"cameraDistance\">Area</label>\n  </div>\n  <div class=\"panel-field-value\">\n    <div class=\"readonly-value\">\n      {{ (store$.sensorArea$ | async) | unitSuffix:2:' mm' }}\n    </div>\n  </div>\n</div>\n\n","import { Injectable } from '@angular/core';\nimport { asyncScheduler, fromEvent, merge, Observable, ReplaySubject } from 'rxjs';\nimport { throttleTime } from 'rxjs/operators';\n\n@Injectable()\nexport class PanelResizeService {\n\n  onResize = new ReplaySubject<any>();\n  onResize$: Observable<Event | any>;\n\n  constructor() {\n    this.onResize$ = merge(\n      fromEvent(window, 'resize'),\n      this.onResize.asObservable()\n    ).pipe(throttleTime(50, asyncScheduler, {leading: true, trailing: true }));\n  }\n}\n","import { ChangeDetectionStrategy, Component, HostBinding, Input } from '@angular/core';\nimport { PanelResizeService } from './panel-resize.service';\n\n@Component({\n  selector: 'poc-panel',\n  templateUrl: './panel.component.html',\n  styleUrls: ['./panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PanelComponent {\n\n  @Input()\n  label!: string;\n\n  @Input()\n  @HostBinding('class.collapsed')\n  collapsed = true;\n\n  constructor(private panelResizeService: PanelResizeService) {\n\n  }\n\n  collapsedIconClass = ['pi', 'pi-chevron-right'];\n  openedIconClass = ['pi', 'pi-chevron-down'];\n  get iconClasses() {\n    return this.collapsed ? this.collapsedIconClass : this.openedIconClass;\n  }\n\n  _headerClicked(ev: MouseEvent) {\n    this.collapsed = !this.collapsed;\n    this.panelResizeService.onResize.next();\n  }\n}\n","<header (click)=\"collapsed = !collapsed\">\n  <i [ngClass]=\"iconClasses\"></i>\n  <div class=\"label\">{{ label }}</div>\n</header>\n<main>\n  <ng-content></ng-content>\n</main>\n","import { EventEmitter, HostBinding, HostListener } from '@angular/core';\nimport { ChangeDetectionStrategy, Component, Input, Output } from '@angular/core';\n\n@Component({\n  selector: 'poc-pinned-button',\n  templateUrl: './pinned-button.component.html',\n  styleUrls: ['./pinned-button.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PinnedButtonComponent {\n\n  @Input()\n  @HostBinding('class.checked')\n  checked = false;\n\n  @Output()\n  toggled = new EventEmitter<boolean>();\n\n  @HostListener('click')\n  clicked() {\n    this.checked = !this.checked;\n    this.toggled.emit(this.checked);\n  }\n\n}\n","<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fal\" data-icon=\"thumbtack\" class=\"svg-inline--fa fa-thumbtack fa-w-12\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path fill=\"currentColor\" d=\"M300.8 203.9L290.7 128H328c13.2 0 24-10.8 24-24V24c0-13.2-10.8-24-24-24H56C42.8 0 32 10.8 32 24v80c0 13.2 10.8 24 24 24h37.3l-10.1 75.9C34.9 231.5 0 278.4 0 335.2c0 8.8 7.2 16 16 16h160V472c0 .7.1 1.3.2 1.9l8 32c2 8 13.5 8.1 15.5 0l8-32c.2-.6.2-1.3.2-1.9V351.2h160c8.8 0 16-7.2 16-16 .1-56.8-34.8-103.7-83.1-131.3zM33.3 319.2c6.8-42.9 39.6-76.4 79.5-94.5L128 96H64V32h256v64h-64l15.3 128.8c40 18.2 72.7 51.8 79.5 94.5H33.3z\"></path></svg>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ApertureAbbreviationPipe } from './pipes/aperture-abbreviation/aperture-abbreviation.pipe';\nimport { UnitSuffixPipe } from './pipes/unit-suffix/unit-suffix.pipe';\nimport { EmptyStringPipe } from './pipes/empty-string/empty-string.pipe';\nimport { PanelComponent } from './components/panel/panel.component';\nimport { PinnedButtonComponent } from './components/pinned-button/pinned-button.component';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { DropdownModule } from 'primeng/dropdown';\nimport { InputNumberModule } from 'primeng/inputnumber';\nimport { SliderModule } from 'primeng/slider';\nimport { ChoiceWidgetComponent } from './widgets/choice-widget/choice-widget.component';\nimport { CollapsableWidgetComponent } from './widgets/collapsable-widget/collapsable-widget.component';\nimport { LabelWidgetComponent } from './widgets/label-widget/label-widget.component';\nimport { NumberWidgetComponent } from './widgets/number-widget/number-widget.component';\nimport { RangeWidgetComponent } from './widgets/range-widget/range-widget.component';\nimport { SectionWidgetComponent } from './widgets/section-widget/section-widget.component';\nimport { RadToDegPipe } from './pipes/rad-to-deg.pipe';\n\nconst widgetComponents = [RangeWidgetComponent,\n  NumberWidgetComponent,\n  ChoiceWidgetComponent,\n  LabelWidgetComponent,\n  SectionWidgetComponent,\n  CollapsableWidgetComponent];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BrowserModule,\n    SliderModule,\n    DropdownModule,\n    InputNumberModule,\n    FormsModule\n  ],\n  declarations: [\n    PanelComponent,\n    PinnedButtonComponent,\n    ApertureAbbreviationPipe,\n    UnitSuffixPipe,\n    EmptyStringPipe,\n    RadToDegPipe,\n    ...widgetComponents\n  ],\n  exports: [\n    PanelComponent,\n    PinnedButtonComponent,\n    ApertureAbbreviationPipe,\n    UnitSuffixPipe,\n    EmptyStringPipe,\n    RadToDegPipe,\n    ...widgetComponents\n  ]\n})\nexport class CoreModule { }\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'apertureAbbreviation'\n})\nexport class ApertureAbbreviationPipe implements PipeTransform {\n\n  transform(value: string): string {\n    switch (value) {\n      case 'Aperture Priority':\n        return 'A';\n      case 'Shutter Priority':\n        return 'S';\n      case 'Program Auto':\n        return 'P';\n      case 'Auto':\n        return 'AUTO';\n      case 'Movie (Manual)':\n        return 'Movie';\n      case 'Manual':\n        return 'M';\n      default:\n        return 'X';\n    };\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'emptyString'\n})\nexport class EmptyStringPipe implements PipeTransform {\n\n  transform(value: string, args?: any): any {\n    if (!value) {\n      return '---';\n    }\n\n    return value\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'radToDeg'\n})\nexport class RadToDegPipe implements PipeTransform {\n\n  transform(value: any, decimalPlaces = 0, suffix = ''): string {\n\n    if (isNaN(value)) return '--';\n\n    const degrees = radToDeg(value).toFixed(decimalPlaces);\n\n    return `${degrees}${suffix}`;\n  }\n}\n\n\n\nfunction radToDeg(rad: number) {\n  return rad * 180 / Math.PI;\n}\n\nfunction degToRad(deg: number) {\n  return deg * Math.PI / 180;\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'unitSuffix'\n})\nexport class UnitSuffixPipe implements PipeTransform {\n\n  transform(value?: number | null, decimalPlaces = 0, suffix = ' mm'): unknown {\n\n    if (value === null || value === undefined || isNaN(value) || value === null) return '--' + 'suffix';\n    return value.toFixed(decimalPlaces) + suffix;\n  }\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { IChoiceWidget, SensorPreset } from '..';\n\n@Component({\n  selector: 'poc-choice-widget',\n  templateUrl: './choice-widget.component.html',\n  styleUrls: ['./choice-widget.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ChoiceWidgetComponent<TChoice> {\n\n  @Input()\n  widgetModel!: IChoiceWidget<SensorPreset>;\n\n  @Output()\n  choiceSelected = new EventEmitter<TChoice>();\n\n  _onChange(ev: {originalEvent: Event, value: TChoice}) {\n    this.choiceSelected.emit(ev.value);\n  }\n}\n","<poc-collapsable-widget [label]=\"widgetModel.label\">\n  <section class=\"holder\">\n    <p-dropdown [options]=\"widgetModel.choices\" appendTo=\"body\" optionLabel=\"label\" [ngModel]=\"widgetModel.value$ | async\" (onChange)=\"_onChange($event)\">\n    </p-dropdown>\n  </section>\n</poc-collapsable-widget>\n\n","<header (click)=\"collapsed = !collapsed\">\n  <i [ngClass]=\"iconClasses\"></i>\n  <div class=\"label\">{{ label }}</div>\n  <div class=\"value\" *ngIf=\"value\">{{ value }}</div>\n</header>\n<main>\n  <ng-content></ng-content>\n</main>\n","import { ChangeDetectionStrategy, Component, HostBinding, Input } from '@angular/core';\n\n@Component({\n  selector: 'poc-collapsable-widget',\n  templateUrl: './collapsable-widget.component.html',\n  styleUrls: ['./collapsable-widget.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CollapsableWidgetComponent {\n\n  @Input()\n  label = '';\n\n  @Input()\n  value: any;\n\n  @Input()\n  @HostBinding('class.collapsed')\n  collapsed = true;\n\n  collapsedIconClass = ['pi', 'pi-chevron-right'];\n  openedIconClass = ['pi', 'pi-chevron-down'];\n  get iconClasses() {\n    return this.collapsed ? this.collapsedIconClass : this.openedIconClass;\n  }\n}\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ILabelWidget } from '..';\n\n@Component({\n  selector: 'poc-label-widget',\n  templateUrl: './label-widget.component.html',\n  styleUrls: ['./label-widget.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class LabelWidgetComponent {\n\n  @Input()\n  widgetModel!: ILabelWidget;\n\n  @Input()\n  value$!: Observable<string>;\n}\n","<poc-collapsable-widget [label]=\"widgetModel.label\" [value]=\"widgetModel.value$ | async\">\n  <section class=\"holder\">\n    <div>{{ value$ | async }}</div>\n  </section>\n</poc-collapsable-widget>\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { INumberWidget } from '..';\n\n@Component({\n  selector: 'poc-number-widget',\n  templateUrl: './number-widget.component.html',\n  styleUrls: ['./number-widget.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NumberWidgetComponent {\n\n  @Input()\n  widgetModel!: INumberWidget;\n\n  @Input()\n  value$!: Observable<number>;\n\n  @Output()\n  numberInput = new EventEmitter<number>();\n\n  _numberInput(ev: {originalEvent: Event, value: number}) {\n    this.numberInput.emit(ev.value);\n  }\n\n  _onFocus(ev: FocusEvent) {\n    (ev.target as HTMLInputElement).select();\n  }\n}\n","<poc-collapsable-widget [label]=\"widgetModel.label\" [value]=\"value$ | async\">\n  <section class=\"holder\">\n    <p-inputNumber #newCounter [ngModel]=\"value$ | async\" [useGrouping]=\"false\" [showButtons]=\"true\"\n      [disabled]=\"widgetModel.readonly\" [min]=\"widgetModel.min\" [max]=\"widgetModel.max\"\n      buttonLayout=\"horizontal\" inputId=\"horizontal\" spinnerMode=\"horizontal\" [step]=\"widgetModel?.step ?? 1\" styleClass=\"rangeInput\"\n      decrementButtonClass=\"p-button-text\" incrementButtonClass=\"p-button-text\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" mode=\"decimal\"\n      (onInput)=\"_numberInput($event)\" (onFocus)=\"_onFocus($event)\">\n    </p-inputNumber>\n  </section>\n</poc-collapsable-widget>\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { IRangeWidget } from '..';\n\n@Component({\n  selector: 'poc-range-widget',\n  templateUrl: './range-widget.component.html',\n  styleUrls: ['./range-widget.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RangeWidgetComponent {\n\n  @Input()\n  widgetModel!: IRangeWidget;\n\n  @Input()\n  value$!: Observable<number>;\n\n  @Output()\n  rangeInput = new EventEmitter<number>();\n\n  _rangeInput(ev: {originalEvent: Event, value: number}) {\n    this.rangeInput.emit(ev.value);\n  }\n\n  _onFocus(ev: FocusEvent) {\n    (ev.target as HTMLInputElement).select();\n  }\n}\n","<poc-collapsable-widget [label]=\"widgetModel.label\" [value]=\"value$ | async\">\n  <section class=\"holder\">\n    <p-inputNumber #newCounter [ngModel]=\"value$ | async\" [useGrouping]=\"false\" [showButtons]=\"true\"\n      [disabled]=\"widgetModel.readonly\" [min]=\"widgetModel.min\" [max]=\"widgetModel.max\"\n      buttonLayout=\"horizontal\" inputId=\"horizontal\" spinnerMode=\"horizontal\" [step]=\"widgetModel?.step ?? 1\" styleClass=\"-lg rangeInput\"\n      decrementButtonClass=\"p-button-text\" incrementButtonClass=\"p-button-text\" incrementButtonIcon=\"pi pi-plus\" decrementButtonIcon=\"pi pi-minus\" mode=\"decimal\"\n      (onInput)=\"_rangeInput($event)\" (onFocus)=\"_onFocus($event)\">\n    </p-inputNumber>\n    <p-slider [ngModel]=\"value$ | async\" [disabled]=\"widgetModel.readonly\" [min]=\"widgetModel.min\" [max]=\"widgetModel.max\" [step]=\"widgetModel.step ?? 1\" (onChange)=\"_rangeInput($event)\">\n    </p-slider>\n  </section>\n</poc-collapsable-widget>\n\n","<poc-collapsable-widget [label]=\"widgetModel.label\" [collapsed]=\"collapsed\">\n  <section class=\"holder\">\n  <ng-container *ngFor=\"let childWidget of widgetModel.children\">\n    <poc-range-widget *ngIf=\"childWidget.type === 'range'\"\n        [widgetModel]=\"childWidget\" [value$]=\"childWidget.value$\"\n        (rangeInput)=\"childWidget.setValue($event)\"></poc-range-widget>\n    <poc-number-widget *ngIf=\"childWidget.type === 'number'\"\n        [widgetModel]=\"childWidget\" [value$]=\"childWidget.value$\"\n        (numberInput)=\"childWidget.setValue($event)\"></poc-number-widget>\n    <poc-label-widget *ngIf=\"childWidget.type === 'label'\"\n        [widgetModel]=\"childWidget\" [value$]=\"childWidget.value$\"></poc-label-widget>\n    <poc-choice-widget *ngIf=\"childWidget.type === 'choice'\"\n        [widgetModel]=\"childWidget\"\n        (choiceSelected)=\"childWidget.setValue($event)\"></poc-choice-widget>\n    <poc-section-widget *ngIf=\"childWidget.type === 'section'\"\n        [widgetModel]=\"childWidget\"></poc-section-widget>\n  </ng-container>\n  </section>\n</poc-collapsable-widget>\n\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { ISectionWidget } from '..';\n\n@Component({\n  selector: 'poc-section-widget',\n  templateUrl: './section-widget.component.html',\n  styleUrls: ['./section-widget.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SectionWidgetComponent {\n\n  @Input()\n  widgetModel!: ISectionWidget\n\n  @Input()\n  collapsed = true;\n}\n","\nimport { CameraHelper, PerspectiveCamera, MathUtils, LineBasicMaterial } from 'three';\nimport { EngineStateStore } from './store/engine.store';\n\nexport class CameraEngineService {\n\n  public viewCamera!: THREE.PerspectiveCamera;\n  public _viewCamera!: THREE.PerspectiveCamera;\n  public viewCameraHelper!: THREE.CameraHelper;\n\n  public lensCamera!: THREE.PerspectiveCamera;\n  public lensCameraHelper!: THREE.CameraHelper;\n\n  constructor(\n    private store$: EngineStateStore\n  ) {\n\n    this.store$.select(x => x).subscribe(newState => {\n\n      //if (newState.aovHeight === 0) return;\n\n      const angleOfView = MathUtils.radToDeg(newState.aovHeight)\n      const aspectRatio = newState.sensorWidth / newState.sensorHeight;\n\n      if (!this.viewCamera) {\n\n        this.viewCamera = new PerspectiveCamera(angleOfView, aspectRatio, .1, 10000);\n        this._viewCamera = new PerspectiveCamera(angleOfView, aspectRatio, 25, newState.viewDistance);\n        this.viewCamera.fov = newState.focalLength;\n        this._viewCamera.fov = newState.focalLength;\n        this.viewCamera.position.set(0,0,0);\n        this._viewCamera.position.set(0,0,0);\n        this.viewCamera.rotateX(MathUtils.degToRad(-90));\n        this._viewCamera.rotateX(MathUtils.degToRad(-90));\n\n        this.viewCameraHelper = new CameraHelper(this._viewCamera);\n        this.viewCameraHelper.material = new LineBasicMaterial({\n          color: 'lime',\n          linewidth: 300\n        });\n\n        this.viewCameraHelper.frustumCulled = false;\n\n        this.lensCamera = new PerspectiveCamera(angleOfView, aspectRatio, newState.focalLength / 2, newState.focalLength);\n        this.lensCamera.fov = newState.focalLength;\n        this.lensCamera.position.set(0,0,0);\n        this.lensCamera.rotateX(MathUtils.degToRad(90));\n        this.lensCameraHelper = new CameraHelper(this.lensCamera);\n      }\n\n      this.viewCamera.fov = angleOfView;\n      this._viewCamera.fov = angleOfView;\n      this.viewCamera.aspect = aspectRatio;\n      this._viewCamera.aspect = aspectRatio;\n      this._viewCamera.far = newState.viewDistance;\n\n      this.lensCamera.fov = angleOfView;\n      this.lensCamera.aspect = aspectRatio;\n      this.lensCamera.near = newState.focalLength / 2;\n      this.lensCamera.far = newState.focalLength;\n\n      this.updateCameras();\n    });\n  }\n\n  setCameraPosition(newPosition: number) {\n    this._viewCamera.position.setY(newPosition);\n    this.viewCamera.position.setY(newPosition);\n    this.lensCamera.position.setY(newPosition);\n    this.updateCameras();\n  }\n\n  updateCameras() {\n\n    this.lensCamera.updateProjectionMatrix();\n    this.lensCamera.updateMatrixWorld(true);\n    this.lensCameraHelper.update();\n    this.viewCamera.updateProjectionMatrix();\n    this.viewCamera.updateMatrixWorld(true);\n    this._viewCamera.updateProjectionMatrix();\n    this._viewCamera.updateMatrixWorld(true);\n    this.viewCameraHelper.update();\n  }\n}\n","import { of } from \"rxjs\"\nimport { map } from 'rxjs/operators';\nimport { IChoiceWidget, ILabelWidget, INumberWidget, IRangeWidget, ISectionWidget, SensorPreset } from \"../../core/widgets\";\nimport { EngineStateStore } from \"./store/engine.store\"\n\nexport const createCameraEngineWidget = (store$: EngineStateStore) => {\n\n  const cameraHeightWidget: IRangeWidget = {\n    min: 200,\n    max: 1300,\n    step: 1,\n    value$: store$.viewDistance$,\n    label: 'Camera Height',\n    readonly: false,\n    setValue: (newPosition) => store$.setViewDistance(round(newPosition, 1)),\n    type: 'range'\n  }\n\n  const focalLengthWidget: IRangeWidget = {\n    min: 0,\n    max: 100,\n    step: .1,\n    value$: store$.focalLength$,\n    label: 'Focal Length',\n    readonly: false,\n    setValue: (focalLength) => store$.setFocalLength(focalLength),\n    type: 'range'\n  }\n\n  const mainSection: ISectionWidget = {\n    type: 'section',\n    label: 'Camera Optical Settings',\n    children: [\n      cameraHeightWidget,\n      focalLengthWidget,\n      createSensorSizeSection(store$),\n      createViewableAreaSection(store$)\n    ]\n  }\n\n  return mainSection;\n}\n\nconst createSensorSizeSection = (store$: EngineStateStore) => {\n\n  const sensorWidthWidget: INumberWidget = {\n    min: 0,\n    max: 1000,\n    step: .01,\n    value$: store$.sensorWidth$,\n    label: 'Sensor Width',\n    readonly: false,\n    setValue: (sensorX) => store$.setSensorWidth(sensorX),\n    type: 'number'\n  }\n  const sensorHeightWidget: INumberWidget = {\n    min: 0,\n    max: 1000,\n    step: .01,\n    value$: store$.sensorHeight$,\n    label: 'Sensor Height',\n    readonly: false,\n    setValue: (sensorY) => store$.setSensorHeight(sensorY),\n    type: 'number'\n  }\n\n  const sensorPresetWidget: IChoiceWidget<SensorPreset> = {\n\n    type: 'choice',\n    label: 'Sensor Presets',\n    value$: of(),\n    readonly: false,\n    choices: [{\n      label: '1/2.7\" - 5.33mm * 4mm',\n      sensorX: 5.33,\n      sensorY: 4\n    },{\n      label: '1/3\" - 4.8mm * 3.6mm',\n      sensorX: 4.8,\n      sensorY: 3.6\n    },{\n      label: 'Sony a7R III 35mm',\n      sensorX: 35.9,\n      sensorY: 24\n    }],\n    setValue: ({sensorX, sensorY}) => {\n      store$.setSensorWidth(sensorX);\n      store$.setSensorHeight(sensorY);\n    }\n  }\n\n  const mainSection: ISectionWidget = {\n    type: 'section',\n    label: 'Sensor Settings',\n    children: [\n      sensorWidthWidget,\n      sensorHeightWidget,\n      sensorPresetWidget\n    ]\n  }\n\n  return mainSection;\n}\n\nconst createViewableAreaSection = (store$: EngineStateStore) => {\n\n  const viewWidth: ILabelWidget = {\n    value$: store$.viewWidth$.pipe(map(value => { return `${round(value, 10)}mm` })),\n    readonly: true,\n    setValue: (newVal) => newVal,\n    label: 'View Width',\n    type: 'label'\n  }\n\n  const viewHeight: ILabelWidget = {\n    value$: store$.viewHeight$.pipe(map(value => { return `${round(value, 10)}mm` })),\n    readonly: true,\n    setValue: (newVal) => newVal,\n    label: 'View Height',\n    type: 'label'\n  }\n\n  const mainSection: ISectionWidget = {\n    type: 'section',\n    label: 'View Area',\n    children: [\n      viewWidth,\n      viewHeight\n    ]\n  }\n\n  return mainSection;\n}\n\nexport function round(value: number, decimals: number) {\n  return Math.round(value * decimals) / decimals;\n}\n","import {Component, ElementRef, AfterViewInit, ViewChild, NgZone, Input, HostBinding} from '@angular/core';\nimport { asyncScheduler, interval, Observable } from 'rxjs';\nimport {EngineService} from './engine.service';\nimport { createCameraEngineWidget } from './camera-engine.widget';\nimport { EngineStateStore, EngineState } from './store/engine.store';\nimport { ControllerStateStore } from './store/controller.store';\nimport { delay, filter, switchMap, takeWhile, tap, throttleTime, withLatestFrom } from 'rxjs/operators';\nimport { PanelResizeService } from '../../core/components/panel/panel-resize.service';\n\n@Component({\n  selector: 'poc-engine',\n  templateUrl: './engine.component.html',\n  styleUrls: ['./engine.component.scss'],\n  providers: [ControllerStateStore]\n})\nexport class EngineComponent implements AfterViewInit {\n\n  @ViewChild('cameraView', {static: true})\n  public cameraView!: ElementRef<HTMLDivElement>;\n\n  @ViewChild('overView', {static: true})\n  public overView!: ElementRef<HTMLDivElement>;\n\n  @Input()\n  @HostBinding('class.display-camera-view')\n  displayCameraView = true;\n\n  cameraEngineState$: Observable<EngineState>;\n\n  cameraEngineWidget = createCameraEngineWidget(this.store$);\n\n  public constructor(\n    private engServ: EngineService,\n    private store$: EngineStateStore,\n    private controllerStore$: ControllerStateStore,\n    private panelResizeService: PanelResizeService) {\n\n    this.cameraEngineState$ = this.store$.select(x => x);\n\n    this.controllerStore$.up$.pipe(filter(x => x)).pipe(withLatestFrom(this.store$.viewDistance$)).pipe(switchMap(([pressed, currentDistance]) => {\n      this.store$.setViewDistance(currentDistance + 1);\n      return interval(50, asyncScheduler).pipe(delay(500, asyncScheduler)).pipe(withLatestFrom(this.controllerStore$.up$, this.store$.viewDistance$)).pipe(tap(([i, isDown, currentDistance]) => {\n        const dif = Math.min(Math.ceil(i / 10), 10);\n         this.store$.setViewDistance(currentDistance + dif);\n      })).pipe(takeWhile(([i, isPressed, curr]) => isPressed ));\n    })).subscribe();\n\n    this.controllerStore$.down$.pipe(filter(x => x)).pipe(withLatestFrom(this.store$.viewDistance$)).pipe(switchMap(([pressed, currentDistance]) => {\n      this.store$.setViewDistance(currentDistance - 1);\n       return interval(50, asyncScheduler).pipe(delay(500, asyncScheduler)).pipe(withLatestFrom(this.controllerStore$.down$, this.store$.viewDistance$)).pipe(tap(([i, isDown, currentDistance]) => {\n          const dif = Math.min(Math.ceil(i / 10), 10);\n          this.store$.setViewDistance(currentDistance - dif);\n      })).pipe(takeWhile(([i, isPressed, curr]) => isPressed ));\n    })).subscribe();\n\n    // this.controllerStore$.leftJoyY$.pipe(filter(x => Math.abs(x) > .01)).pipe(throttleTime(100, asyncScheduler, {trailing: true})).pipe(withLatestFrom(this.store$.viewDistance$)).subscribe(([leftJoyY, currentDistance]) => {\n    //   this.store$.setViewDistance(currentDistance - Math.ceil(leftJoyY * 10));\n    // });\n\n    this.controllerStore$.rightJoyY$.pipe(filter(x => Math.abs(x) > .07)).pipe(throttleTime(50, asyncScheduler, {trailing: true, leading: true})).pipe(withLatestFrom(this.store$.viewDistance$)).pipe(switchMap(([value, currentDistance]) => {\n      this.store$.setViewDistance(currentDistance - Math.ceil(value * 20));\n      return interval(50, asyncScheduler).pipe(withLatestFrom(this.controllerStore$.rightJoyY$, this.store$.viewDistance$)).pipe(tap(([i, joyY, currentDistance]) => {\n        this.store$.setViewDistance(currentDistance - Math.ceil(joyY * 20));\n      })).pipe(takeWhile(([i, joyY, curr]) => Math.abs(joyY) > .07 ));\n    })).subscribe();\n\n    this.panelResizeService.onResize$.subscribe(() => {\n      const { clientWidth, clientHeight } = this.overView.nativeElement;\n      this.engServ.setSize(clientWidth, clientHeight);\n    });\n\n    window.addEventListener(\"gamepadconnected\", (event) => {\n      console.log(\"A gamepad connected:\");\n      console.log(event.gamepad);\n\n      (event.gamepad as any).vibrationActuator.playEffect(\"dual-rumble\", {\n        startDelay: 0,\n        duration: 100,\n        weakMagnitude: .4,\n        strongMagnitude: .8\n      });\n\n      this.pollGamepad();\n    });\n\n    window.addEventListener(\"gamepaddisconnected\", (event) => {\n      console.log(\"A gamepad disconnected:\");\n      console.log(event.gamepad);\n    });\n\n  }\n\n  pollGamepad() {\n    const gamepads = navigator.getGamepads();\n    if (gamepads.length > 0) {\n\n      const gamepad = gamepads[0];\n      if (gamepad) this.controllerStore$.setControllerState(gamepad);\n\n      requestAnimationFrame(() => {\n        //this.ngZone.runOutsideAngular(() => {\n          this.pollGamepad();\n        //});\n      });\n    }\n  }\n\n  public ngAfterViewInit(): void {\n\n    this.engServ.createScene(this.overView, this.cameraView);\n    this.engServ.animate();\n\n    setTimeout(() => {\n      this.store$.setSensorSize({sensorWidth: 5.33, sensorHeight: 4});\n      this.store$.setFocalLength(6);\n      this.store$.setViewDistance(200);\n    }, 1000);\n  }\n}\n","<div #overView class=\"over-view\"></div>\n<poc-panel label=\"Camera View\" [collapsed]=\"!displayCameraView\">\n  <div #cameraView class=\"camera-view\"></div>\n</poc-panel>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EngineComponent } from './engine.component';\n\nimport { BrowserModule } from '@angular/platform-browser';\nimport { CoreModule } from '../../core/core.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BrowserModule,\n    CoreModule\n  ],\n  declarations: [\n    EngineComponent\n  ],\n  exports: [\n    EngineComponent\n  ]\n})\nexport class EngineModule { }\n","import * as THREE from 'three';\nimport { OrbitControls } from 'three-orbitcontrols-ts';\nimport { ElementRef, Injectable, NgZone, OnDestroy } from '@angular/core';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader.js';\nimport { CameraEngineService } from './camera-engine.service';\nimport { EngineStateStore } from './store/engine.store';\nimport { CSS3DObject, CSS3DRenderer } from './renderer/CSS3DRenderer';\n//import {} from 'd3-axis';\nimport render from 'd3-render';\nimport * as d3 from 'd3';\nimport { axisBottom, axisLeft, axisRight, scaleLinear } from 'd3';\n\n\n\n// let frustumSize = 400;\n\n@Injectable({ providedIn: 'root' })\nexport class EngineService implements OnDestroy {\n\n  public animationSpeed = 0.00005;\n\n  private renderer!: THREE.WebGLRenderer;\n  private cameraViewrenderer!: THREE.WebGLRenderer;\n\n  private cssRenderer!: CSS3DRenderer;\n\n  private camera!: THREE.PerspectiveCamera;\n\n  private cameraEngineService: CameraEngineService;\n\n  private scene!: THREE.Scene;\n  private scene2!: THREE.Scene;\n  private mesh!: THREE.Mesh;\n\n  private tableMesh!: THREE.Mesh;\n  private photoMesh!: THREE.Mesh;\n  private lastTick = 0;\n\n  private cameraModel!: THREE.Group;\n\n  private frameId: any;\n\n  public controls!: OrbitControls;\n  private height = 0;\n\n  private clock = new THREE.Clock();\n\n  private PARENT_WIDTH = 320;\n  private PARENT_HEIGHT = 240;\n  private aspect = this.PARENT_WIDTH / this.PARENT_HEIGHT;\n\n  private css3dObject!: CSS3DObject;\n  private widthAxisScale!: d3.ScaleLinear<number, number, never>;\n  private widthAxisGroup!: d3.Selection<SVGGElement, any, any, any>;\n\n  private heightAxisScale!: d3.ScaleLinear<number, number, never>;\n  private heightAxisGroup!: d3.Selection<SVGGElement, any, any, any>;\n\n  private widthDimension!: HTMLElement;\n  private heightDimension!: HTMLElement;\n  private widthDimensionLabel!: HTMLElement;\n  private heightDimensionLabel!: HTMLElement;\n\n  public constructor(\n    private ngZone: NgZone,\n    private store$: EngineStateStore\n    ) {\n      this.cameraEngineService = new CameraEngineService(store$);\n  }\n\n  public ngOnDestroy(): void {\n    if (this.frameId != null) {\n      cancelAnimationFrame(this.frameId);\n    }\n  }\n\n  public createScene(holder: ElementRef<HTMLElement>, cameraViewHolder: ElementRef<HTMLElement>): void {\n    // The first step is to get the reference of the canvas element from our HTML document\n\n    this.aspect = this.PARENT_WIDTH / this.PARENT_HEIGHT;\n\n    this.scene = new THREE.Scene();\n\n    //this.scene.add(this.cameraEngineService.group);\n    this.scene.add(this.cameraEngineService.viewCamera);\n    //this.scene.add(this.cameraEngineService._viewCamera);\n    this.scene.add(this.cameraEngineService.viewCameraHelper);\n    this.scene.add(this.cameraEngineService.lensCamera)\n    this.scene.add(this.cameraEngineService.lensCameraHelper);\n\n    this.camera = new THREE.PerspectiveCamera( 50, 1, 1, 30000 );\n\n    this.camera.position.x = 400;\n    this.camera.position.y = 600;\n    this.camera.position.z = 400;\n\n    this.scene.add(new THREE.HemisphereLight(0xC7E8FF, 0xFFE3B3, 0.4));\n\n    const axesHelper = new THREE.AxesHelper( 100 );\n    axesHelper.position.set(0,0,0);\n    this.scene.add( axesHelper );\n\n    this.tableMesh = new THREE.Mesh(\n      new THREE.BoxGeometry(420, 1, 293, 10, 2, 10),\n      new THREE.MeshBasicMaterial({color: 0x999999, wireframe: false})\n    )\n    this.tableMesh.position.setY(-1);\n    this.tableMesh.frustumCulled = false;\n    this.tableMesh.renderOrder = 9;\n\n    this.scene.add(this.tableMesh);\n\n    const loader = new THREE.TextureLoader();\n    const tex = loader.load('assets/Hutt_Valley_History_Early_History_002.tif.jpg');\n\n    this.photoMesh = new THREE.Mesh(\n      new THREE.PlaneGeometry(150 * 1.380444856348471, 150, 16, 9),\n      new THREE.MeshBasicMaterial({map: tex, wireframe: false})\n    )\n\n    //this.photoMesh.position.setY(+.05);\n    this.photoMesh.rotateX(-Math.PI / 2);\n    this.photoMesh.renderOrder = 10;\n    this.photoMesh.frustumCulled = false;\n\n    this.scene.add(this.photoMesh);\n\n    // const mtlLoader = new MTLLoader();\n    // mtlLoader.load('/assets/camera.mtl', (mtl) => {\n\n    //   mtl.preload();\n    //   const objLoader = new OBJLoader();\n    //   objLoader.setMaterials(mtl);\n\n    //   objLoader.load('/assets/camera.obj', (root) => {\n    //     root.scale.set(60, 60, 60);\n    //     root.rotateX(Math.PI / 2);\n    //     root.rotateZ(Math.PI);\n    //     root.position.setZ(-1)\n    //     this.scene.add(root);\n    //     // compute the box that contains all the stuff\n    //     // from root and below\n    //     const box = new THREE.Box3().setFromObject(root);\n    //     this.cameraModel = root;\n    //   });\n    // });\n\n\n\n    // const skyboxGeo = new THREE.BoxGeometry(10000, 10000, 10000);\n    // const skybox = new THREE.Mesh(skyboxGeo, new THREE.MeshBasicMaterial({color: 0x111111, wireframe: false, side: THREE.BackSide}));\n    // this.scene.add(skybox);\n\n    const holderWidth = holder.nativeElement.clientWidth;\n    const holderHeight = holder.nativeElement.clientHeight;\n\n    this.renderer = new THREE.WebGLRenderer( { antialias: true, alpha: true } );\n    this.renderer.setPixelRatio( window.devicePixelRatio );\n    this.renderer.setSize( holderWidth, holderHeight );\n    this.renderer.setClearColor('black', 0);\n\n    this.camera.aspect = holderWidth / holderHeight;\n    this.camera.updateProjectionMatrix();\n\n    this.cameraViewrenderer = new THREE.WebGLRenderer( { antialias: true } );\n    this.cameraViewrenderer.setPixelRatio( window.devicePixelRatio );\n\n    this.store$.sensorSize$.subscribe(({sensorWidth, sensorHeight}) => {\n      this.cameraViewrenderer.setSize( 300 * (sensorWidth / sensorHeight), 300);\n    });\n\n    holder.nativeElement.appendChild(this.renderer.domElement);\n    cameraViewHolder.nativeElement.appendChild(this.cameraViewrenderer.domElement);\n\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n    this.controls.enableKeys = true;\n    this.controls.enableZoom = true;\n    this.controls.enableDamping = true; // an animation loop is required when either damping or auto-rotation are enabled\n    this.controls.dampingFactor = 0.5;\n\n    // this.controls = new FirstPersonControls(this.camera, this.renderer.domElement);\n    // this.controls.lookSpeed = 0.04;\n    // //this.controls.activeLook = false;\n    // this.controls.movementSpeed = 75;\n    // this.controls.noFly = false;\n\n    this.cssRenderer = new CSS3DRenderer();\n    this.cssRenderer.setSize( holderWidth, holderHeight );\n    this.cssRenderer.domElement.style.position = 'absolute';\n    this.cssRenderer.domElement.style.top = '0px';\n    this.cssRenderer.domElement.style.left = '0px';\n    this.cssRenderer.domElement.classList.add('css3d');\n    this.cssRenderer.domElement.style.pointerEvents = 'none';\n    holder.nativeElement.appendChild( this.cssRenderer.domElement );\n\n    this.scene2 = new THREE.Scene();\n\n    const element = document.createElement( 'div' );\n    element.style.width = '100%';\n    element.style.height = '100%';\n    element.style.position = 'relative';\n\n    this.widthDimension = document.createElement('div');\n    this.heightDimension = document.createElement('div');\n    this.widthDimensionLabel = document.createElement('div');\n    this.heightDimensionLabel = document.createElement('div');\n    this.widthDimension.append(this.widthDimensionLabel);\n    this.heightDimension.append(this.heightDimensionLabel);\n    this.widthDimension.classList.add('dimension', 'dimension-width');\n    this.heightDimension.classList.add('dimension', 'dimension-height');\n    element.append(this.widthDimension);\n    element.append(this.heightDimension);\n\n    const svg = d3.select(element).append('svg');\n\n    this.widthAxisScale = scaleLinear()\n      .domain([0, 0])         // This is what is written on the Axis: from 0 to 100\n      .range([0, 0]);       // This is where the axis is placed: from 100px to 800px\n\n    this.heightAxisScale = scaleLinear()\n      .domain([0, 0])         // This is what is written on the Axis: from 0 to 100\n      .range([0, 0]);       // This is where the axis is placed: from 100px to 800px\n\n    this.widthAxisGroup = svg\n      .append(\"g\")\n      .attr('class', 'axis-group axis-width')\n      .call(axisBottom(this.widthAxisScale));\n    this.heightAxisGroup = svg\n      .append(\"g\")\n      .attr('class', 'axis-group axis-height')\n      .call(axisLeft(this.heightAxisScale));\n\n    this.css3dObject = new CSS3DObject( element );\n    this.css3dObject.position.set(0, 0, 0);\n    this.css3dObject.rotateX(-Math.PI / 2);\n    this.scene2.add( this.css3dObject );\n\n    // this.controls = new DragControls(this.camera, this.renderer.domElement);\n    this.camera.lookAt( this.cameraEngineService.viewCamera.position );\n\n    this.controls.update();\n\n    this.renderer.autoClear = false;\n    this.cameraViewrenderer.autoClear = false;\n\n\n    this.store$.viewDistance$.subscribe(newHeight => {\n      this.cameraEngineService.setCameraPosition(newHeight);\n    });\n\n    this.store$.viewSize$.subscribe(({viewWidth, viewHeight}) => {\n      this.css3dObject.element.style.width = `${viewWidth}px`;\n      this.css3dObject.element.style.height = `${viewHeight}px`;\n\n\n      function makeTicks (halfValue: number, tickSize: number) {\n\n        const ticks: number[] = [-halfValue];\n        const offset = halfValue % tickSize;\n\n        for (let i = -halfValue + offset; i < halfValue; i+= tickSize) {\n          if (i < halfValue) {\n            ticks.push(i);\n          }\n        }\n        ticks.push(halfValue);\n        return ticks;\n      }\n\n\n      const halfWidth = viewWidth / 2;\n\n      this.widthAxisScale.range([-halfWidth, halfWidth]).domain([-halfWidth, halfWidth]).ticks();\n      this.widthAxisGroup.call(axisBottom(this.widthAxisScale).tickValues(makeTicks(halfWidth, 10)).tickSizeInner(3));\n      const halfHeight = viewHeight / 2;\n      this.heightAxisScale.range([-halfHeight, halfHeight]).domain([-halfHeight, halfHeight]).ticks();\n      this.heightAxisGroup.call(axisLeft(this.heightAxisScale).tickValues(makeTicks(halfHeight, 10)).tickSizeInner(3));\n\n      this.widthDimensionLabel.innerText = `${viewWidth.toFixed(1)}mm`;\n      this.heightDimensionLabel.innerText = `${viewHeight.toFixed(1)}mm`;\n    });\n  }\n\n  public animate(): void {\n    this.frameId = requestAnimationFrame(() => {\n      this.ngZone.runOutsideAngular(() => {\n        this.render();\n      });\n    });\n  }\n\n  public setCameraHeight(newHeight: number) {\n    this.cameraEngineService.setCameraPosition(newHeight);\n  }\n\n  public render() {\n    try {\n\n      this.renderer.clear();\n\n      this.cameraViewrenderer.render( this.scene, this.cameraEngineService.viewCamera );\n\n      this.renderer.render( this.scene, this.camera );\n\n      this.cssRenderer.render(this.scene2, this.camera)\n\n      this.controls.update();\n\n      this.animate();\n    } catch(e) {\n      console.error(e);\n    }\n  }\n\n  public setSize(width: number, height: number) {\n\n    this.PARENT_HEIGHT = height;\n    this.PARENT_WIDTH = width;\n    this.aspect = this.PARENT_WIDTH / this.PARENT_HEIGHT;\n\n    this.renderer.setSize( this.PARENT_WIDTH, this.PARENT_HEIGHT );\n    this.cssRenderer.setSize( this.PARENT_WIDTH, this.PARENT_HEIGHT )\n\n    this.camera.aspect = this.aspect;\n    this.camera.updateProjectionMatrix();;\n  }\n}\n","import { BufferGeometry, Group, Material, Matrix4, Object3D, OrthographicCamera, PerspectiveCamera, Scene, WebGLRenderer } from 'three';\n\n\tclass CSS3DObject extends Object3D {\n\n    isCSS3DObject = true;\n\n\t\tconstructor( public element: HTMLElement ) {\n\n\t\t\tsuper();\n\t\t\tthis.element = element || document.createElement( 'div' );\n\t\t\tthis.element.style.position = 'absolute';\n\t\t\tthis.element.style.pointerEvents = 'none';\n\t\t\tthis.element.style.userSelect = 'none';\n      this.element.classList.add('core-css-plane');\n\t\t\tthis.element.setAttribute( 'draggable', 'false' );\n\t\t\tthis.addEventListener( 'removed', () => {\n\n\t\t\t\tthis.traverse( ( o: any ) => {\n          const object = o as CSS3DObject;\n\t\t\t\t\tif ( object.element instanceof Element && object.element.parentNode !== null ) {\n\t\t\t\t\t\tobject.element.parentNode.removeChild( object.element );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tcopy( source: any, recursive: any ) {\n\n\t\t\tsuper.copy( source, recursive );\n\t\t\tthis.element = source.element.cloneNode( true );\n\t\t\treturn this;\n\n\t\t}\n\n\t}\n\n\n\n\tclass CSS3DSprite extends CSS3DObject {\n\n    isCSS3DSprite = true;\n\n\t\tconstructor( element: HTMLElement ) {\n\n\t\t\tsuper( element );\n\t\t\tthis.rotation.set(0,0,0);\n\n\t\t}\n\n\t\tcopy( source: any, recursive: any ) {\n\n\t\t\tsuper.copy( source, recursive );\n\n\t\t\tthis.rotation.set(source.x, source.y, source.z);\n\t\t\treturn this;\n\n\t\t}\n\n\t}\n\n\n\n\tclass CSS3DRenderer {\n\n\n    private _matrix = new Matrix4();\n    private _matrix2 = new Matrix4();\n\n    private _width = 0;\n    private _height = 0;\n\n\t\tprivate _widthHalf = 0;\n    private _heightHalf = 0;\n\n    private cache = {\n      camera: {\n        fov: 0,\n        style: ''\n      },\n      objects: new WeakMap()\n    };\n\n    domElement: HTMLElement;\n    cameraElement!: HTMLElement;\n\n\t\tconstructor() {\n\n\t\t\tconst domElement = document.createElement( 'div' );\n\t\t\tdomElement.style.overflow = 'hidden';\n      domElement.style.pointerEvents = 'none';\n      domElement.classList.add('core-dom-element');\n\t\t\tthis.domElement = domElement;\n\t\t\tconst cameraElement = document.createElement( 'div' );\n\t\t\tcameraElement.style.transformStyle = 'preserve-3d';\n\t\t\tcameraElement.style.pointerEvents = 'none';\n      cameraElement.classList.add('core-camera-element');\n      this.cameraElement = cameraElement;\n\t\t\tdomElement.appendChild( cameraElement );\n\t\t}\n\n    getSize() {\n      return {\n        width: this._width,\n        height: this._height\n      };\n    };\n\n    setSize ( width: number, height: number ) {\n\n      this._width = width;\n      this._height = height;\n      this._widthHalf = this._width / 2;\n      this._heightHalf = this._height / 2;\n      this.domElement.style.width = width + 'px';\n      this.domElement.style.height = height + 'px';\n      this.cameraElement.style.width = width + 'px';\n      this.cameraElement.style.height = height + 'px';\n    };\n\n    render ( scene: Scene, camera: PerspectiveCamera | OrthographicCamera ) {\n\n      const isPerspectiveCamera = camera instanceof PerspectiveCamera;\n      const isOrthographicCamera = camera instanceof OrthographicCamera;\n\n      const fov = camera.projectionMatrix.elements[ 5 ] * this._heightHalf;\n\n      if ( this.cache.camera.fov !== fov ) {\n\n        this.domElement.style.perspective = isPerspectiveCamera ? fov + 'px' : '';\n        this.cache.camera.fov = fov;\n\n      }\n\n      if ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n      if ( camera.parent === null ) camera.updateMatrixWorld();\n\n\n      let tx, ty;\n\n      let cameraCSSMatrix = '';\n      if ( camera instanceof OrthographicCamera ) {\n\n        tx = - ( camera.right + camera.left ) / 2;\n        ty = ( camera.top + camera.bottom ) / 2;\n        cameraCSSMatrix = 'scale(' + fov + ')' + 'translate(' + epsilon( tx ) + 'px,' + epsilon( ty ) + 'px)' + getCameraCSSMatrix( camera.matrixWorldInverse );\n      } else {\n        cameraCSSMatrix = 'translateZ(' + fov + 'px)' + getCameraCSSMatrix( camera.matrixWorldInverse );\n      }\n\n      const style = cameraCSSMatrix + 'translate(' + this._widthHalf + 'px,' + this._heightHalf + 'px)';\n\n      if ( this.cache.camera.style !== style ) {\n\n        this.cameraElement.style.transform = style;\n        this.cache.camera.style = style;\n\n      }\n\n      this.renderObject( scene, scene, camera, cameraCSSMatrix );\n\n    };\n\n\n\t\t\trenderObject( object: Scene | Object3D | CSS3DSprite | CSS3DObject, scene: Scene, camera: PerspectiveCamera | OrthographicCamera, cameraCSSMatrix: string ) {\n\n\t\t\t\tif ( object instanceof CSS3DObject || object instanceof CSS3DSprite ) {\n\n          const renderer = this as any;\n\t\t\t\t\t//object.onBeforeRender(renderer, scene, camera, new BufferGeometry(), new Material(), new Group());\n\t\t\t\t\tlet style;\n\n\t\t\t\t\tif ( object instanceof CSS3DSprite ) {\n\n\t\t\t\t\t\t// http://swiftcoder.wordpress.com/2008/11/25/constructing-a-billboard-matrix/\n\t\t\t\t\t\tthis._matrix.copy( camera.matrixWorldInverse );\n\n\t\t\t\t\t\tthis._matrix.transpose();\n\n\t\t\t\t\t\tif ( object.rotation.z !== 0 ) this._matrix.multiply( this._matrix2.makeRotationZ( object.rotation.z ) );\n\n\t\t\t\t\t\tthis._matrix.copyPosition( object.matrixWorld );\n\n\t\t\t\t\t\tthis._matrix.scale( object.scale );\n\n\t\t\t\t\t\tthis._matrix.elements[ 3 ] = 0;\n\t\t\t\t\t\tthis._matrix.elements[ 7 ] = 0;\n\t\t\t\t\t\tthis._matrix.elements[ 11 ] = 0;\n\t\t\t\t\t\tthis._matrix.elements[ 15 ] = 1;\n\t\t\t\t\t\tstyle = getObjectCSSMatrix( this._matrix );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstyle = getObjectCSSMatrix( object.matrixWorld );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst element = object.element;\n\t\t\t\t\tconst cachedObject = this.cache.objects.get( object );\n\n\t\t\t\t\tif ( cachedObject === undefined || cachedObject.style !== style ) {\n\n\t\t\t\t\t\telement.style.transform = style;\n\t\t\t\t\t\tconst objectData = {\n\t\t\t\t\t\t\tstyle: style\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.cache.objects.set( object, objectData );\n\n\t\t\t\t\t}\n\n\t\t\t\t\telement.style.display = object.visible ? '' : 'none';\n\n\t\t\t\t\tif ( element.parentNode !== this.cameraElement ) {\n\n\t\t\t\t\t\tthis.cameraElement.appendChild( element );\n\n\t\t\t\t\t}\n\n\t\t\t\t//\tobject.onAfterRender( _this, scene, camera );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, l = object.children.length; i < l; i ++ ) {\n\n\t\t\t\t\tthis.renderObject( object.children[ i ], scene, camera, cameraCSSMatrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\t}\n\n  function epsilon( value: number ) {\n\n    return Math.abs( value ) < 1e-10 ? 0 : value;\n\n  }\n\n  function getCameraCSSMatrix( matrix: Matrix4 ) {\n\n    const elements = matrix.elements;\n    return 'matrix3d(' + epsilon( elements[ 0 ] ) + ',' + epsilon( - elements[ 1 ] ) + ',' + epsilon( elements[ 2 ] ) + ',' + epsilon( elements[ 3 ] ) + ',' + epsilon( elements[ 4 ] ) + ',' + epsilon( - elements[ 5 ] ) + ',' + epsilon( elements[ 6 ] ) + ',' + epsilon( elements[ 7 ] ) + ',' + epsilon( elements[ 8 ] ) + ',' + epsilon( - elements[ 9 ] ) + ',' + epsilon( elements[ 10 ] ) + ',' + epsilon( elements[ 11 ] ) + ',' + epsilon( elements[ 12 ] ) + ',' + epsilon( - elements[ 13 ] ) + ',' + epsilon( elements[ 14 ] ) + ',' + epsilon( elements[ 15 ] ) + ')';\n\n  }\n\n  function getObjectCSSMatrix( matrix: Matrix4 ) {\n\n    const elements = matrix.elements;\n    const matrix3d = 'matrix3d(' + epsilon( elements[ 0 ] ) + ',' + epsilon( elements[ 1 ] ) + ',' + epsilon( elements[ 2 ] ) + ',' + epsilon( elements[ 3 ] ) + ',' + epsilon( - elements[ 4 ] ) + ',' + epsilon( - elements[ 5 ] ) + ',' + epsilon( - elements[ 6 ] ) + ',' + epsilon( - elements[ 7 ] ) + ',' + epsilon( elements[ 8 ] ) + ',' + epsilon( elements[ 9 ] ) + ',' + epsilon( elements[ 10 ] ) + ',' + epsilon( elements[ 11 ] ) + ',' + epsilon( elements[ 12 ] ) + ',' + epsilon( elements[ 13 ] ) + ',' + epsilon( elements[ 14 ] ) + ',' + epsilon( elements[ 15 ] ) + ')';\n    return 'translate(-50%,-50%)' + matrix3d;\n\n  }\n\n\texport {CSS3DObject, CSS3DRenderer, CSS3DSprite};\n\n","import { Injectable } from \"@angular/core\";\nimport { ComponentStore } from \"@ngrx/component-store\";\nimport { combineLatest, Observable } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\n\nexport interface ControllerState {\n\n  up: boolean;\n  down: boolean;\n  left: boolean;\n  right: boolean;\n\n  button1: boolean;\n\n  leftJoyX: number;\n  leftJoyY: number;\n\n  rightJoyX: number;\n  rightJoyY: number;\n}\n\n@Injectable()\nexport class ControllerStateStore extends ComponentStore<ControllerState> {\n\n  readonly up$: Observable<boolean> = this.select(state => state.up);\n  readonly down$: Observable<boolean> = this.select(state => state.down);\n  readonly left$: Observable<boolean> = this.select(state => state.left);\n  readonly right$: Observable<boolean> = this.select(state => state.right);\n\n  readonly button1$: Observable<boolean> = this.select(state => state.button1);\n\n  readonly leftJoyX$: Observable<number> = this.select(state => state.leftJoyX);\n  readonly leftJoyY$: Observable<number> = this.select(state => state.leftJoyY);\n\n  readonly rightJoyX$: Observable<number> = this.select(state => state.rightJoyX);\n  readonly rightJoyY$: Observable<number> = this.select(state => state.rightJoyY);\n\n  readonly setControllerState = this.updater((state, gamepad: Gamepad) => setControllerState(state, gamepad));\n\n  constructor() {\n    super({\n      button1: false,\n      down: false,\n      left: false,\n      leftJoyX: 0,\n      leftJoyY: 0,\n      right: false,\n      rightJoyX: 0,\n      rightJoyY: 0,\n      up: false\n    });\n  }\n}\n\nfunction setControllerState(oldState: ControllerState, gamepad: Gamepad): ControllerState {\n\n  return {\n    button1: gamepad.buttons[0].pressed,\n    down: gamepad.buttons[13].pressed,\n    left: gamepad.buttons[14].pressed,\n    leftJoyX: gamepad.axes[0],\n    leftJoyY: gamepad.axes[1],\n    right: gamepad.buttons[5].pressed,\n    rightJoyX: gamepad.axes[2],\n    rightJoyY: gamepad.axes[3],\n    up: gamepad.buttons[12].pressed\n  };\n}\n","import { Injectable } from \"@angular/core\";\nimport { ComponentStore } from \"@ngrx/component-store\";\nimport { combineLatest, Observable } from \"rxjs\";\nimport { distinct, map } from \"rxjs/operators\";\n\nexport interface EngineState {\n\n  sensorWidth: number;\n  sensorHeight: number;\n  sensorDiagonal: number;\n\n  focalLength: number;\n\n  aovWidth: number;\n  aovHeight: number;\n  aovDiag: number;\n\n  viewWidth: number;\n  viewHeight: number;\n  viewDistance: number;\n}\n\n@Injectable()\nexport class EngineStateStore extends ComponentStore<EngineState> {\n\n  readonly sensorWidth$: Observable<number> = this.select(state => state.sensorWidth);\n  readonly sensorHeight$: Observable<number> = this.select(state => state.sensorHeight);\n\n  readonly sensorDiagonal$: Observable<number> = combineLatest([this.sensorWidth$, this.sensorHeight$]).pipe(map(([sensorWidth, sensorHeight]) => {\n    const diag = Math.sqrt((sensorHeight * sensorHeight) + (sensorWidth * sensorWidth));\n    return Math.round(diag * 10) / 10;\n  })).pipe(distinct());\n  readonly sensorArea$: Observable<number> = combineLatest([this.sensorWidth$, this.sensorHeight$]).pipe(map(([sensorWidth, sensorHeight]) => {\n    const area = sensorHeight * sensorWidth;\n    return Math.round(area * 10) / 10;\n  })).pipe(distinct());\n\n  readonly focalLength$: Observable<number> = this.select(state => state.focalLength);\n\n  readonly sensorSize$: Observable<{sensorWidth: number, sensorHeight: number }> = combineLatest([this.sensorWidth$, this.sensorHeight$])\n      .pipe(map(([sensorWidth, sensorHeight]) => ({sensorWidth, sensorHeight})));\n\n  readonly viewWidth$: Observable<number> = this.select(state => state.viewWidth);\n  readonly viewHeight$: Observable<number> = this.select(state => state.viewHeight);\n  readonly viewDistance$: Observable<number> = this.select(state => state.viewDistance);\n\n  readonly viewSize$: Observable<{viewWidth: number, viewHeight: number }> = combineLatest([this.viewWidth$, this.viewHeight$])\n  .pipe(map(([viewWidth, viewHeight]) => ({viewWidth, viewHeight})));\n\n  readonly aovWidth$: Observable<number> = this.select(state => state.aovWidth);\n  readonly aovHeight$: Observable<number> = this.select(state => state.aovHeight);\n  readonly aovDiag$: Observable<number> = this.select(state => state.aovDiag);\n\n  readonly setSensorWidth = this.updater((state, sensorWidth: number) => updateSensorSize(state, sensorWidth, state.sensorHeight));\n  readonly setSensorHeight = this.updater((state, sensorHeight: number) => updateSensorSize(state, state.sensorWidth, sensorHeight));\n\n  readonly setSensorSize = this.updater((state, size: { sensorWidth: number, sensorHeight: number }) => updateSensorSize(state, size.sensorWidth, size.sensorHeight));\n\n  readonly setFocalLength = this.updater((state, focalLength: number) => updateFocalLength(state, focalLength));\n\n  readonly setViewDistance = this.updater((state, viewDistance: number) => setViewDistance(state, viewDistance));\n\n\n  constructor() {\n    super({\n      focalLength: 1,\n      sensorHeight: 1,\n      sensorWidth: 1,\n      sensorDiagonal: 1,\n      viewHeight: 1,\n      viewWidth: 1,\n      viewDistance: 1,\n      aovDiag: 1,\n      aovHeight: 1,\n      aovWidth: 1\n    });\n  }\n}\n\n\nfunction radToDeg(rad: number) {\n  return rad * 180 / Math.PI;\n}\n\nfunction degToRad(deg: number) {\n  return deg * Math.PI / 180;\n}\n\nfunction updateSensorSize(oldState: EngineState, sensorWidth: number, sensorHeight: number): EngineState {\n\n  const { aovHeight, aovWidth } = updateAngleOfView(sensorWidth, sensorHeight, oldState.focalLength);\n  const { viewWidth, viewHeight } = updateViewSizeForDistance(oldState.viewDistance, aovWidth, aovHeight);\n\n    return {\n      ...oldState,\n      sensorWidth,\n      sensorHeight,\n      aovWidth,\n      aovHeight,\n      viewWidth,\n      viewHeight\n    };\n}\n\nfunction updateFocalLength(oldState: EngineState, focalLength: number): EngineState {\n\n  if (isNaN(focalLength) || focalLength === null || focalLength === 0) {\n    return oldState;\n  }\n\n  const { aovHeight, aovWidth } = updateAngleOfView(oldState.sensorWidth, oldState.sensorHeight, focalLength);\n  const { viewHeight, viewWidth } = updateViewSizeForDistance(oldState.viewDistance, aovWidth, aovHeight);\n\n  return {\n    ...oldState,\n    focalLength,\n    aovWidth,\n    aovHeight,\n    viewWidth,\n    viewHeight\n  };\n}\n\nfunction setViewDistance(oldState: EngineState, viewDistance: number) {\n\n  viewDistance = Math.round(viewDistance * 10) / 10;\n\n  const { viewHeight, viewWidth } = updateViewSizeForDistance(viewDistance, oldState.aovWidth, oldState.aovHeight);\n\n  return {\n    ...oldState,\n    viewDistance,\n    viewWidth,\n    viewHeight\n  };\n}\n\nfunction updateAngleOfView(sensorWidth: number, sensorHeight: number, focalLength: number) {\n  return {\n    aovHeight: calculateAngleOfView(sensorHeight, focalLength),\n    aovWidth: calculateAngleOfView(sensorWidth, focalLength)\n  };\n}\n\nfunction calculateAngleOfView(sensorDimension: number, focalLength: number) {\n  return 2 * Math.atan(sensorDimension / (2 * focalLength));\n}\n\nfunction updateViewSizeForDistance(viewDistance: number, aovWidth: number, aovHeight: number) {\n  return {\n    viewWidth: calculateViewSizeForDistance(viewDistance, aovWidth),\n    viewHeight: calculateViewSizeForDistance(viewDistance, aovHeight)\n  };\n}\n\nfunction calculateViewSizeForDistance(distance: number, FOV: number) {\n  const viewSize = 2 * distance * Math.tan(FOV / 2);\n  return Math.round(viewSize * 10) / 10\n}\n","import { Injectable } from '@angular/core';\nimport { ComponentStore } from '@ngrx/component-store';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\nexport interface IFocalLengthPreset {\n  id: string;\n  sensorWidth: number;\n  sensorHeight: number;\n  focalLength: number;\n  viewDistance: number;\n  viewWidth: number;\n  viewHeight: number;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CameraPresetService {\n\n\n  presets$ = this.presetsStore.presets$;\n\n  private _localStoreKey = 'focal-presets';\n\n  constructor(private presetsStore: PresetsStore) {\n\n    const presetString = localStorage.getItem(this._localStoreKey);\n\n    try {\n      const presets = JSON.parse(presetString ?? '[]');\n      this.presetsStore.initPresets(presets);\n    } catch (e) {\n      console.log('Unable to parse presets');\n    }\n  }\n\n  addPreset(newPreset: IFocalLengthPreset) {\n    this.presetsStore.addPreset(newPreset);\n    this.presets$.pipe(take(1)).subscribe(presets => {\n      localStorage.setItem(this._localStoreKey, JSON.stringify(presets));\n    });\n  }\n\n  removePreset(preset: IFocalLengthPreset) {\n    this.presetsStore.removePreset(preset);\n    this.presets$.pipe(take(1)).subscribe(presets => {\n      localStorage.setItem(this._localStoreKey, JSON.stringify(presets));\n    });\n  }\n}\n\n\n\n\nexport interface PresetsState {\n  presets: IFocalLengthPreset[]\n}\n\n@Injectable()\nexport class PresetsStore extends ComponentStore<PresetsState> {\n\n  readonly presets$: Observable<IFocalLengthPreset[]> = this.select(state => state.presets);\n\n  readonly initPresets = this.updater((state, presets: IFocalLengthPreset[]) => {\n    return {\n      ...state,\n      presets\n    }\n  });\n\n  readonly addPreset = this.updater((state, newPreset: IFocalLengthPreset) => {\n    const presets = [...state.presets, newPreset];\n    return {\n      ...state,\n      presets\n    }\n  });\n\n  readonly removePreset = this.updater((state, preset: IFocalLengthPreset) => {\n    const presets = state.presets.filter(x => x.id !== preset.id);\n\n    return {\n      ...state,\n      presets\n    }\n  });\n\n  constructor() {\n    super({\n      presets: []\n    });\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err));\n"],"sourceRoot":"webpack:///"}